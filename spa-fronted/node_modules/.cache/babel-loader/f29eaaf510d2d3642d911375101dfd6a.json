{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\A S U S\\\\Desktop\\\\PPCC spaflormaria\\\\spa-fronted\\\\src\\\\pages\\\\Login\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Input from \"../../components/Input\";\nimport { URLSERVER } from \"../../Helpers/Constants\";\nimport useNavbar from \"../../hooks/useNavbar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n\n  const [data, setData] = useState({});\n  const {\n    login\n  } = useNavbar();\n  const navigate = useNavigate();\n  const {\n    isSessionActive\n  } = useNavbar();\n\n  const handleData = e => {\n    setData({ ...data,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const loginFetch = () => {\n    let msg = \"\";\n\n    if (data.email) {\n      if (data.password) {\n        fetch(`${URLSERVER}api/users/login`, {\n          method: \"POST\",\n          body: JSON.stringify(data),\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n          },\n          mode: \"cors\"\n        }).then(res => res.json()).then(obj => {\n          if (obj.status === \"ok\") {\n            if (login(obj)) {\n              navigate(\"/\");\n            } else {\n              alert(\"Faltan datos\");\n            }\n          } else {\n            alert(obj.status);\n          }\n        }).catch(err => alert(`Error -> ${err}`));\n      } else {\n        msg = \"Debe ingresar la contrase침a\";\n        alert(msg);\n      }\n    } else {\n      msg = \"Debe ingresar el email\";\n      alert(msg);\n    }\n  };\n\n  useEffect(() => {\n    // console.log(\"Se ejecuta el use eject y la session es \", isSessionActive());\n    if (isSessionActive()) {\n      navigate(\"/\");\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"w-full flex flex-col items-center mb-8 px-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-center text-[56px] mb-8 font-semibold\",\n      children: \"Iniciar Sesi\\xF3n\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"max-w-[448px] w-full border border-black rounded-[33px] p-4 lg:p-8\",\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        title: \"Email*\",\n        placeholder: \"juan.perez@gmail.com\",\n        type: \"text\",\n        name: \"email\",\n        onChange: handleData,\n        value: data.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        title: \"Contrase\\xF1a*\",\n        placeholder: \"************\",\n        type: \"password\",\n        name: \"password\",\n        onChange: handleData,\n        value: data.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full flex justify-end mt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"py-2 px-5 bg-green-500 border rounded-full text-white hover:bg-green-400\",\n          onClick: loginFetch,\n          children: \"Ingresar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"SfDmnvC5cyggGqZ+qq02Jdp/R5g=\", false, function () {\n  return [useNavbar, useNavigate, useNavbar];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Input","URLSERVER","useNavbar","Login","data","setData","login","navigate","isSessionActive","handleData","e","target","name","value","loginFetch","msg","email","password","fetch","method","body","JSON","stringify","headers","Accept","mode","then","res","json","obj","status","alert","catch","err"],"sources":["C:/Users/A S U S/Desktop/PPCC spaflormaria/spa-fronted/src/pages/Login/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Input from \"../../components/Input\";\r\nimport { URLSERVER } from \"../../Helpers/Constants\";\r\nimport useNavbar from \"../../hooks/useNavbar\";\r\n\r\nexport default function Login() {\r\n  const [data, setData] = useState({});\r\n  const { login } = useNavbar();\r\n  const navigate = useNavigate();\r\n  const { isSessionActive } = useNavbar();\r\n\r\n  const handleData = (e) => {\r\n    setData({\r\n      ...data,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const loginFetch = () => {\r\n    let msg = \"\";\r\n    if (data.email) {\r\n      if (data.password) {\r\n        fetch(`${URLSERVER}api/users/login`, {\r\n          method: \"POST\",\r\n          body: JSON.stringify(data),\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          mode: \"cors\",\r\n        })\r\n          .then((res) => res.json())\r\n          .then((obj) => {\r\n            if (obj.status === \"ok\") {\r\n              if (login(obj)) {\r\n                navigate(\"/\");\r\n              } else {\r\n                alert(\"Faltan datos\");\r\n              }\r\n            } else {\r\n              alert(obj.status);\r\n            }\r\n          })\r\n          .catch((err) => alert(`Error -> ${err}`));\r\n      } else {\r\n        msg = \"Debe ingresar la contrase침a\";\r\n        alert(msg);\r\n      }\r\n    } else {\r\n      msg = \"Debe ingresar el email\";\r\n      alert(msg);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // console.log(\"Se ejecuta el use eject y la session es \", isSessionActive());\r\n    if (isSessionActive()) {\r\n      navigate(\"/\");\r\n    }\r\n  });\r\n\r\n  return (\r\n    <main className=\"w-full flex flex-col items-center mb-8 px-4\">\r\n      <h2 className=\"text-center text-[56px] mb-8 font-semibold\">\r\n        Iniciar Sesi칩n\r\n      </h2>\r\n      <section className=\"max-w-[448px] w-full border border-black rounded-[33px] p-4 lg:p-8\">\r\n        <Input\r\n          title=\"Email*\"\r\n          placeholder=\"juan.perez@gmail.com\"\r\n          type=\"text\"\r\n          name=\"email\"\r\n          onChange={handleData}\r\n          value={data.email}\r\n        />\r\n        <Input\r\n          title=\"Contrase침a*\"\r\n          placeholder=\"************\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          onChange={handleData}\r\n          value={data.password}\r\n        />\r\n        <div className=\"w-full flex justify-end mt-4\">\r\n          <button\r\n            className=\"py-2 px-5 bg-green-500 border rounded-full text-white hover:bg-green-400\"\r\n            onClick={loginFetch}\r\n          >\r\n            Ingresar\r\n          </button>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}