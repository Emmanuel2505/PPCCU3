{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport navbarContext from \"../contexts/NavbarContext\";\nimport { useContext, useState } from \"react\";\nimport { SESSIONSTORAGE } from \"../Helpers/Constants\";\nconst userModel = {\n  token: \"\",\n  fullname: \"\",\n  rol: \"\",\n  email: \"\"\n};\n\nfunction resetStorage() {\n  setSessionStorage(userModel);\n}\n\nfunction setSessionStorage(model) {\n  localStorage.setItem(SESSIONSTORAGE, JSON.stringify(model));\n}\n\nfunction sessionStorage() {\n  try {\n    if (!localStorage.getItem(SESSIONSTORAGE)) {\n      resetStorage();\n    }\n\n    return JSON.parse(localStorage.getItem(SESSIONSTORAGE));\n  } catch (error) {\n    console.log(\"Error-->\", error);\n  }\n}\n\nexport const useNavbarModel = () => {\n  _s();\n\n  const [url, setUrl] = useState(\"/\");\n  const [session, setSession] = useState(sessionStorage());\n\n  const logout = () => {\n    resetStorage();\n    setSession(sessionStorage());\n  };\n\n  const isSessionActive = () => {\n    let chis = false;\n\n    if (session.email !== \"\") {\n      chis = true;\n    }\n\n    return chis;\n  };\n\n  const isSessionAdmin = () => {\n    return isSessionActive() & session.rol === \"admin\";\n  };\n\n  const getAhutorization = () => {\n    let ahorization = \"Bearer \";\n    ahorization += session.token;\n    return ahorization;\n  };\n\n  const login = data => {\n    let chis = true;\n\n    if (data.token) {\n      if (data.fullname) {\n        if (data.email) {\n          if (data.rol) {\n            setSessionStorage(data);\n            setSession(sessionStorage());\n          } else {\n            chis = false;\n          }\n        } else {\n          chis = false;\n        }\n      } else {\n        chis = false;\n      }\n    } else {\n      chis = false;\n    }\n\n    return chis;\n  };\n\n  return {\n    url,\n    session,\n    setUrl,\n    login,\n    logout,\n    isSessionActive,\n    isSessionAdmin,\n    getAhutorization\n  };\n}; // eslint-disable-next-line import/no-anonymous-default-export\n\n_s(useNavbarModel, \"5mwXws9bhaJ58OwqkBrBKaN1lfE=\");\n\nexport default _s2(() => {\n  _s2();\n\n  return useContext(navbarContext);\n}, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");","map":{"version":3,"names":["navbarContext","useContext","useState","SESSIONSTORAGE","userModel","token","fullname","rol","email","resetStorage","setSessionStorage","model","localStorage","setItem","JSON","stringify","sessionStorage","getItem","parse","error","console","log","useNavbarModel","url","setUrl","session","setSession","logout","isSessionActive","chis","isSessionAdmin","getAhutorization","ahorization","login","data"],"sources":["C:/Users/A S U S/Desktop/spaflormaria/spa-frontend/spa-fronted/src/hooks/useNavbar.js"],"sourcesContent":["import navbarContext from \"../contexts/NavbarContext\";\r\n\r\nimport { useContext, useState } from \"react\";\r\nimport { SESSIONSTORAGE } from \"../Helpers/Constants\";\r\nconst userModel = { token: \"\", fullname: \"\", rol: \"\", email: \"\" };\r\n\r\nfunction resetStorage() {\r\n  setSessionStorage(userModel);\r\n}\r\n\r\nfunction setSessionStorage(model) {\r\n  localStorage.setItem(SESSIONSTORAGE, JSON.stringify(model));\r\n}\r\n\r\nfunction sessionStorage() {\r\n  try {\r\n    if (!localStorage.getItem(SESSIONSTORAGE)) {\r\n      resetStorage();\r\n    }\r\n    return JSON.parse(localStorage.getItem(SESSIONSTORAGE));\r\n  } catch (error) {\r\n    console.log(\"Error-->\", error);\r\n  }\r\n}\r\n\r\nexport const useNavbarModel = () => {\r\n  const [url, setUrl] = useState(\"/\");\r\n  const [session, setSession] = useState(sessionStorage());\r\n\r\n  const logout = () => {\r\n    resetStorage();\r\n    setSession(sessionStorage());\r\n  };\r\n\r\n  const isSessionActive = () => {\r\n    let chis = false;\r\n    if (session.email !== \"\") {\r\n      chis = true;\r\n    }\r\n    return chis;\r\n  };\r\n\r\n  const isSessionAdmin = () => {\r\n    return isSessionActive() & (session.rol === \"admin\");\r\n  };\r\n\r\n  const getAhutorization = () => {\r\n    let ahorization = \"Bearer \";\r\n    ahorization += session.token;\r\n    return ahorization;\r\n  };\r\n\r\n  const login = (data) => {\r\n    let chis = true;\r\n    if (data.token) {\r\n      if (data.fullname) {\r\n        if (data.email) {\r\n          if (data.rol) {\r\n            setSessionStorage(data);\r\n            setSession(sessionStorage());\r\n          } else {\r\n            chis = false;\r\n          }\r\n        } else {\r\n          chis = false;\r\n        }\r\n      } else {\r\n        chis = false;\r\n      }\r\n    } else {\r\n      chis = false;\r\n    }\r\n    return chis;\r\n  };\r\n\r\n  return {\r\n    url,\r\n    session,\r\n    setUrl,\r\n    login,\r\n    logout,\r\n    isSessionActive,\r\n    isSessionAdmin,\r\n    getAhutorization,\r\n  };\r\n};\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default () => useContext(navbarContext);\r\n"],"mappings":";;;AAAA,OAAOA,aAAP,MAA0B,2BAA1B;AAEA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,OAArC;AACA,SAASC,cAAT,QAA+B,sBAA/B;AACA,MAAMC,SAAS,GAAG;EAAEC,KAAK,EAAE,EAAT;EAAaC,QAAQ,EAAE,EAAvB;EAA2BC,GAAG,EAAE,EAAhC;EAAoCC,KAAK,EAAE;AAA3C,CAAlB;;AAEA,SAASC,YAAT,GAAwB;EACtBC,iBAAiB,CAACN,SAAD,CAAjB;AACD;;AAED,SAASM,iBAAT,CAA2BC,KAA3B,EAAkC;EAChCC,YAAY,CAACC,OAAb,CAAqBV,cAArB,EAAqCW,IAAI,CAACC,SAAL,CAAeJ,KAAf,CAArC;AACD;;AAED,SAASK,cAAT,GAA0B;EACxB,IAAI;IACF,IAAI,CAACJ,YAAY,CAACK,OAAb,CAAqBd,cAArB,CAAL,EAA2C;MACzCM,YAAY;IACb;;IACD,OAAOK,IAAI,CAACI,KAAL,CAAWN,YAAY,CAACK,OAAb,CAAqBd,cAArB,CAAX,CAAP;EACD,CALD,CAKE,OAAOgB,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,KAAxB;EACD;AACF;;AAED,OAAO,MAAMG,cAAc,GAAG,MAAM;EAAA;;EAClC,MAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBtB,QAAQ,CAAC,GAAD,CAA9B;EACA,MAAM,CAACuB,OAAD,EAAUC,UAAV,IAAwBxB,QAAQ,CAACc,cAAc,EAAf,CAAtC;;EAEA,MAAMW,MAAM,GAAG,MAAM;IACnBlB,YAAY;IACZiB,UAAU,CAACV,cAAc,EAAf,CAAV;EACD,CAHD;;EAKA,MAAMY,eAAe,GAAG,MAAM;IAC5B,IAAIC,IAAI,GAAG,KAAX;;IACA,IAAIJ,OAAO,CAACjB,KAAR,KAAkB,EAAtB,EAA0B;MACxBqB,IAAI,GAAG,IAAP;IACD;;IACD,OAAOA,IAAP;EACD,CAND;;EAQA,MAAMC,cAAc,GAAG,MAAM;IAC3B,OAAOF,eAAe,KAAMH,OAAO,CAAClB,GAAR,KAAgB,OAA5C;EACD,CAFD;;EAIA,MAAMwB,gBAAgB,GAAG,MAAM;IAC7B,IAAIC,WAAW,GAAG,SAAlB;IACAA,WAAW,IAAIP,OAAO,CAACpB,KAAvB;IACA,OAAO2B,WAAP;EACD,CAJD;;EAMA,MAAMC,KAAK,GAAIC,IAAD,IAAU;IACtB,IAAIL,IAAI,GAAG,IAAX;;IACA,IAAIK,IAAI,CAAC7B,KAAT,EAAgB;MACd,IAAI6B,IAAI,CAAC5B,QAAT,EAAmB;QACjB,IAAI4B,IAAI,CAAC1B,KAAT,EAAgB;UACd,IAAI0B,IAAI,CAAC3B,GAAT,EAAc;YACZG,iBAAiB,CAACwB,IAAD,CAAjB;YACAR,UAAU,CAACV,cAAc,EAAf,CAAV;UACD,CAHD,MAGO;YACLa,IAAI,GAAG,KAAP;UACD;QACF,CAPD,MAOO;UACLA,IAAI,GAAG,KAAP;QACD;MACF,CAXD,MAWO;QACLA,IAAI,GAAG,KAAP;MACD;IACF,CAfD,MAeO;MACLA,IAAI,GAAG,KAAP;IACD;;IACD,OAAOA,IAAP;EACD,CArBD;;EAuBA,OAAO;IACLN,GADK;IAELE,OAFK;IAGLD,MAHK;IAILS,KAJK;IAKLN,MALK;IAMLC,eANK;IAOLE,cAPK;IAQLC;EARK,CAAP;AAUD,CA5DM,C,CA6DP;;GA7DaT,c;;AA8Db,mBAAe;EAAA;;EAAA,OAAMrB,UAAU,CAACD,aAAD,CAAhB;AAAA,CAAf"},"metadata":{},"sourceType":"module"}