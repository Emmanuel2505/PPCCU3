{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/A S U S/Desktop/spaflormaria/spa-frontend/spa-fronted/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/A S U S/Desktop/spaflormaria/spa-frontend/spa-fronted/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/A S U S/Desktop/spaflormaria/spa-frontend/spa-fronted/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// import { useAddProduct } from 'hooks'\nimport{useEffect,useState}from\"react\";import{FaTrash,FaEdit}from\"react-icons/fa\";import{URLSERVER}from\"../../Helpers/Constants\";import useNavbar from\"../../hooks/useNavbar\";import NoElements from\"../NoElements\";import styles from\"./TableServices.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function TableServices(_ref){var edit=_ref.edit;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),services=_useState2[0],setServices=_useState2[1];var _useNavbar=useNavbar(),getAhutorization=_useNavbar.getAhutorization;useEffect(function(){fetch(\"\".concat(URLSERVER,\"api/treatments/all-services\"),{method:\"GET\",headers:{Authorization:getAhutorization(),Accept:\"application/json\",\"Content-Type\":\"application/json\"},mode:\"cors\"}).then(function(res){return res.json();}).then(function(data){setServices(data.data);}).catch(function(err){return console.log(err);});},[]);var deleteService=function deleteService(id){fetch(// `${URLSERVER}api/treatments/updateOneService/${data._id}/${data.title}/${data.price}/${data.description}`,\n\"\".concat(URLSERVER,\"api/treatments/deleteOneService/\").concat(id),{method:\"DELETE\",headers:{Authorization:getAhutorization(),Accept:\"application/json\",\"Content-Type\":\"application/json\"},mode:\"cors\"}).then(function(res){return res.json();}).then(function(data){if(data.status===\"ok\"){alert(\"Servicio Eliminado Correctamente\");// navigate(\"/services\");\n// window.location.replace(\"\");\n}else{alert(data.status);}}).catch(function(err){alert(\"Ocurrió un error\");console.log(err);});};return/*#__PURE__*/_jsxs(\"table\",{className:styles.table,summary:\"Variantes de productos\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Precio\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Editar\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Eliminar\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:services.length===0?/*#__PURE__*/_jsx(NoElements,{text:\"Servicios\"}):services.map(function(el){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:el.title}),/*#__PURE__*/_jsx(\"th\",{children:el.price}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){edit(el._id,el.title,el.price,el.description,el.image);},children:/*#__PURE__*/_jsx(FaEdit,{className:\"text-orange-500\"})})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var chis;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return window.confirm(\"¿Está seguro que desea eliminar este servicio?\");case 2:chis=_context.sent;if(chis){deleteService(el._id);}case 4:case\"end\":return _context.stop();}}},_callee);})),children:/*#__PURE__*/_jsx(FaTrash,{className:\"text-red-600\"})})})]},el._id);})})]});}","map":{"version":3,"names":["useEffect","useState","FaTrash","FaEdit","URLSERVER","useNavbar","NoElements","styles","TableServices","edit","services","setServices","getAhutorization","fetch","method","headers","Authorization","Accept","mode","then","res","json","data","catch","err","console","log","deleteService","id","status","alert","table","length","map","el","title","price","_id","description","image","window","confirm","chis"],"sources":["C:/Users/A S U S/Desktop/spaflormaria/spa-frontend/spa-fronted/src/components/TableServices/index.js"],"sourcesContent":["// import { useAddProduct } from 'hooks'\r\nimport { useEffect, useState } from \"react\";\r\nimport { FaTrash, FaEdit } from \"react-icons/fa\";\r\nimport { URLSERVER } from \"../../Helpers/Constants\";\r\nimport useNavbar from \"../../hooks/useNavbar\";\r\nimport NoElements from \"../NoElements\";\r\nimport styles from \"./TableServices.module.css\";\r\n\r\nexport default function TableServices({ edit }) {\r\n  const [services, setServices] = useState([]);\r\n  const { getAhutorization } = useNavbar();\r\n  useEffect(() => {\r\n    fetch(`${URLSERVER}api/treatments/all-services`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: getAhutorization(),\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      mode: \"cors\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setServices(data.data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n  const deleteService = (id) => {\r\n    fetch(\r\n      // `${URLSERVER}api/treatments/updateOneService/${data._id}/${data.title}/${data.price}/${data.description}`,\r\n      `${URLSERVER}api/treatments/deleteOneService/${id}`,\r\n      {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Authorization: getAhutorization(),\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        mode: \"cors\",\r\n      }\r\n    )\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.status === \"ok\") {\r\n          alert(\"Servicio Eliminado Correctamente\");\r\n          // navigate(\"/services\");\r\n          // window.location.replace(\"\");\r\n        } else {\r\n          alert(data.status);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        alert(\"Ocurrió un error\");\r\n        console.log(err);\r\n      });\r\n  };\r\n  return (\r\n    <table className={styles.table} summary=\"Variantes de productos\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">Nombre</th>\r\n          <th scope=\"col\">Precio</th>\r\n          <th scope=\"col\">Editar</th>\r\n          <th scope=\"col\">Eliminar</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {services.length === 0 ? (\r\n          <NoElements text=\"Servicios\" />\r\n        ) : (\r\n          services.map((el) => (\r\n            <tr key={el._id}>\r\n              <th scope=\"row\">{el.title}</th>\r\n              <th>{el.price}</th>\r\n              <th>\r\n                <button\r\n                  onClick={() => {\r\n                    edit(el._id, el.title, el.price, el.description, el.image);\r\n                  }}\r\n                >\r\n                  <FaEdit className=\"text-orange-500\" />\r\n                </button>\r\n              </th>\r\n              <th>\r\n                <button\r\n                  onClick={async () => {\r\n                    let chis = await window.confirm(\r\n                      \"¿Está seguro que desea eliminar este servicio?\"\r\n                    );\r\n                    if (chis) {\r\n                      deleteService(el._id);\r\n                    }\r\n                  }}\r\n                >\r\n                  <FaTrash className=\"text-red-600\" />\r\n                </button>\r\n              </th>\r\n            </tr>\r\n          ))\r\n        )}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}